print(is)
sink()
cat(" \n \n \n \n \n",
file = file_name,
append = T)
}
}
}
#import data
data_full <- read.csv("Data/02 Intermediary_data/CO2DriversEU_dataset.csv")
data <- data_full %>%
filter(category == emissions_code) %>%
select(-category)
#run loop over all variables to produce results for all IPCC categories
for(IPCC_code in 1:23){
#set IPCC code and category
emissions_code <- emissions_codes[IPCC_code,]
emissions_category <- categories[IPCC_code,]
#set up document
file_name <- paste0("Data/03 Output_data/",emissions_category)
#filter data
data <- data_full %>%
filter(category == emissions_code) %>%
select(-category)
#add lags
data <- as.data.table(data)
data[, L1.lemissions:=c(NA, lemissions[-.N]), by="country"]
data[, L1.lgdp:=c(NA, lgdp[-.N]), by="country"]
data[, L1.lpop:=c(NA, lpop[-.N]), by="country"]
data[, L1.lemissions_pc:=c(NA, lemissions_pc[-.N]), by="country"]
# Heterogenous effects preparation
group.interactions <- c("lgdp_EU15", "lgdp_EU16", "lgdpsq_EU15", "lgdpsq_EU16",
"lpop_EU15", "lpop_EU16")
data$lgdp_EU15 <- data$lgdp * (data$country %in% EU15)
data$lgdp_EU16 <- data$lgdp * (data$country %in% EU16)
data$lgdpsq_EU15 <- data$lgdp_sq * (data$country %in% EU15)
data$lgdpsq_EU16 <- data$lgdp_sq * (data$country %in% EU16)
data$lpop_EU15 <- data$lpop * (data$country %in% EU15)
data$lpop_EU16 <- data$lpop * (data$country %in% EU16)
#results document header
cat(
paste0(
"#################################################################### \n",
"#                                                                  # \n",
"#                 CO2 DRIVERS EU - ANALYSIS                        # \n",
"#                                                                  # \n",
"#################################################################### \n",
"\n \n \n"),
file = file_name
)
# Analysis
for(group in 1:2){
# Prepare sample and data
sample <- list(EU15, EU31)[[group]]
dat <- filter(data, country %in% sample, year>=1995)
# Print Sample Header
cat(
paste0(
"############################## \n",
"#  SAMPLE = EU", length(sample), " \n",
"############################## \n",
"\n \n "),
file = file_name,
append = T
)
for(p.value in c(.05, .01, .001)){
# Break analysis:
is <- isatpanel(
data = dat,
formula = ifelse(
group == 1, "lemissions_pc ~ lgdp + lgdp_sq + lpop",
paste0(
"lemissions_pc ~ ",
paste(group.interactions, collapse = " + ")
)
) %>% as.formula,
index = c("country", "year"),
effect = "twoways",
iis = T,
fesis = T,
t.pval=p.value
)
# Print analysis results
cat(
paste0(
" \n ###########################",
" \n # p-value: ", p.value,
" \n \n "),
file = file_name,
append = T)
sink(file_name, append=T)
print(is)
sink()
cat(" \n \n \n \n \n",
file = file_name,
append = T)
}
}
}
rm(list=ls())
set.seed(1230)
#import data
data_full <- read.csv("Data/02 Intermediary_data/CO2DriversEU_dataset.csv")
#Group specification
EU15 <- c("Austria", "Belgium", "Germany", "Denmark", "Spain", "Finland",
"France", "United Kingdom", "Ireland", "Italy", "Luxembourg",
"Netherlands", "Greece", "Portugal", "Sweden")
EU16 <- c("Croatia", "Bulgaria", "Cyprus","Czech Republic", "Estonia",
"Hungary", "Lithuania", "Latvia", "Malta", "Poland", "Romania",
"Slovak Republic", "Slovenia", "Switzerland", "Iceland",
"Norway")
EU31 <- c(EU15, EU16)
#IPCC categories
emissions_codes <- read.csv("Data/01 Source_data/IPCC 2006 Categories.csv") %>%
select(IPCC)
categories <- read.csv("Data/01 Source_data/IPCC 2006 Categories.csv") %>%
select(IPCC_description)
#run loop over all variables to produce results for all IPCC categories
for(IPCC_code in 1:23){
#set IPCC code and category
emissions_code <- emissions_codes[IPCC_code,]
emissions_category <- categories[IPCC_code,]
#set up document
file_name <- paste0("Data/03 Output_data/",emissions_category)
#filter data
data <- data_full %>%
filter(category == emissions_code) %>%
select(-category)
#add lags
data <- as.data.table(data)
data[, L1.lemissions:=c(NA, lemissions[-.N]), by="country"]
data[, L1.lgdp:=c(NA, lgdp[-.N]), by="country"]
data[, L1.lpop:=c(NA, lpop[-.N]), by="country"]
data[, L1.lemissions_pc:=c(NA, lemissions_pc[-.N]), by="country"]
# Heterogenous effects preparation
group.interactions <- c("lgdp_EU15", "lgdp_EU16", "lgdpsq_EU15", "lgdpsq_EU16",
"lpop_EU15", "lpop_EU16")
data$lgdp_EU15 <- data$lgdp * (data$country %in% EU15)
data$lgdp_EU16 <- data$lgdp * (data$country %in% EU16)
data$lgdpsq_EU15 <- data$lgdp_sq * (data$country %in% EU15)
data$lgdpsq_EU16 <- data$lgdp_sq * (data$country %in% EU16)
data$lpop_EU15 <- data$lpop * (data$country %in% EU15)
data$lpop_EU16 <- data$lpop * (data$country %in% EU16)
#results document header
cat(
paste0(
"#################################################################### \n",
"#                                                                  # \n",
"#                 CO2 DRIVERS EU - ANALYSIS                        # \n",
"#                                                                  # \n",
"#################################################################### \n",
"\n \n \n"),
file = file_name
)
# Analysis
for(group in 1:2){
# Prepare sample and data
sample <- list(EU15, EU31)[[group]]
dat <- filter(data, country %in% sample, year>=1995)
# Print Sample Header
cat(
paste0(
"############################## \n",
"#  SAMPLE = EU", length(sample), " \n",
"############################## \n",
"\n \n "),
file = file_name,
append = T
)
for(p.value in c(.05, .01, .001)){
# Break analysis:
is <- isatpanel(
data = dat,
formula = ifelse(
group == 1, "lemissions_pc ~ lgdp + lgdp_sq + lpop",
paste0(
"lemissions_pc ~ ",
paste(group.interactions, collapse = " + ")
)
) %>% as.formula,
index = c("country", "year"),
effect = "twoways",
iis = T,
fesis = T,
t.pval=p.value
)
# Print analysis results
cat(
paste0(
" \n ###########################",
" \n # p-value: ", p.value,
" \n \n "),
file = file_name,
append = T)
sink(file_name, append=T)
print(is)
sink()
cat(" \n \n \n \n \n",
file = file_name,
append = T)
}
}
}
rm(list=ls())
set.seed(1230)
#import data
data_full <- read.csv("Data/02 Intermediary_data/CO2DriversEU_dataset.csv")
#Group specification
EU15 <- c("Austria", "Belgium", "Germany", "Denmark", "Spain", "Finland",
"France", "United Kingdom", "Ireland", "Italy", "Luxembourg",
"Netherlands", "Greece", "Portugal", "Sweden")
EU16 <- c("Croatia", "Bulgaria", "Cyprus","Czech Republic", "Estonia",
"Hungary", "Lithuania", "Latvia", "Malta", "Poland", "Romania",
"Slovak Republic", "Slovenia", "Switzerland", "Iceland",
"Norway")
EU31 <- c(EU15, EU16)
#IPCC categories
emissions_codes <- read.csv("Data/01 Source_data/IPCC 2006 Categories.csv") %>%
select(IPCC)
categories <- read.csv("Data/01 Source_data/IPCC 2006 Categories.csv") %>%
select(IPCC_description)
#run loop over all variables to produce results for all IPCC categories
for(IPCC_code in 1:23){
#set IPCC code and category
emissions_code <- emissions_codes[IPCC_code,]
emissions_category <- categories[IPCC_code,]
#set up document
file_name <- paste0("Data/03 Output_data/",emissions_category)
#filter data
data <- data_full %>%
filter(category == emissions_code) %>%
select(-category)
#add lags
data <- as.data.table(data)
data[, L1.lemissions:=c(NA, lemissions[-.N]), by="country"]
data[, L1.lgdp:=c(NA, lgdp[-.N]), by="country"]
data[, L1.lpop:=c(NA, lpop[-.N]), by="country"]
data[, L1.lemissions_pc:=c(NA, lemissions_pc[-.N]), by="country"]
# Heterogenous effects preparation
group.interactions <- c("lgdp_EU15", "lgdp_EU16", "lgdpsq_EU15", "lgdpsq_EU16",
"lpop_EU15", "lpop_EU16")
data$lgdp_EU15 <- data$lgdp * (data$country %in% EU15)
data$lgdp_EU16 <- data$lgdp * (data$country %in% EU16)
data$lgdpsq_EU15 <- data$lgdp_sq * (data$country %in% EU15)
data$lgdpsq_EU16 <- data$lgdp_sq * (data$country %in% EU16)
data$lpop_EU15 <- data$lpop * (data$country %in% EU15)
data$lpop_EU16 <- data$lpop * (data$country %in% EU16)
#results document header
cat(
paste0(
"#################################################################### \n",
"#                                                                  # \n",
"#                 CO2 DRIVERS EU - ANALYSIS                        # \n",
"#                                                                  # \n",
"#################################################################### \n",
"\n \n \n"),
file = file_name
)
# Analysis
for(group in 1:2){
# Prepare sample and data
sample <- list(EU15, EU31)[[group]]
dat <- filter(data, country %in% sample, year>=1995)
# Print Sample Header
cat(
paste0(
"############################## \n",
"#  SAMPLE = EU", length(sample), " \n",
"############################## \n",
"\n \n "),
file = file_name,
append = T
)
for(p.value in c(.05, .01, .001)){
# Break analysis:
is <- isatpanel(
data = dat,
formula = ifelse(
group == 1, "lemissions_pc ~ lgdp + lgdp_sq + lpop",
paste0(
"lemissions_pc ~ ",
paste(group.interactions, collapse = " + ")
)
) %>% as.formula,
index = c("country", "year"),
effect = "twoways",
iis = T,
fesis = T,
t.pval=p.value
)
# Print analysis results
cat(
paste0(
" \n ###########################",
" \n # p-value: ", p.value,
" \n \n "),
file = file_name,
append = T)
sink(file_name, append=T)
print(is)
sink()
cat(" \n \n \n \n \n",
file = file_name,
append = T)
}
}
}
?BMA
??BMA
library(BMS)
library(BMA)
??Bayesian model averaging
??Bayesian
exp(2)
exp(-1.0490e-01)
View(data_full)
geom_point(mapping = aes(x = year, y = emissions_pc)) +
()
geom_point(mapping = aes(x = year, y = emissions_pc))
ggplot(data = data_full) +
geom_point(mapping = aes(x = year, y = emissions_pc)) +
facet_wrap(~ category, nrow = 5)
library(ggplot2)
ggplot(data = data_full) +
geom_point(mapping = aes(x = year, y = emissions_pc)) +
facet_wrap(~ category, nrow = 5)
ggplot(data = data_full) +
geom_line(mapping = aes(x = year, y = emissions_pc)) +
facet_wrap(~ category, nrow = 5)
ggplot(data = data_full) +
geom_smooth(mapping = aes(x = year, y = emissions_pc)) +
facet_wrap(~ category, nrow = 5)
?ggplot2
?geom_line
ggplot(data = data_full) +
geom_path(mapping = aes(x = year, y = emissions_pc)) +
facet_wrap(~ category, nrow = 5)
ggplot(data = data_full) +
geom_path(mapping = aes(x = year, y = emissions_pc)) +
facet_wrap(~ category, nrow = 5)
ggplot(data = data_full, country == "Austria") +
geom_path(mapping = aes(x = year, y = emissions_pc)) +
facet_wrap(~ category, nrow = 5)
ggplot(data = subset(data_full, country == "Austria")) +
geom_path(mapping = aes(x = year, y = emissions_pc)) +
facet_wrap(~ category, nrow = 5)
#IPCC categories
emissions_codes <- read.csv("Data/01 Source_data/IPCC 2006 Categories.csv") %>%
select(IPCC)
categories <- read.csv("Data/01 Source_data/IPCC 2006 Categories.csv") %>%
select(IPCC_description)
left_join(data_full, cbind(emissions_category, emissions_codes))
left_join(data_full, cbind(emissions_category, emissions_codes),)
left_join(data_full, cbind(emissions_category, emissions_codes), "category" = "emissions_code")
codeboys <- cbind(emissions_category, emissions_codes)
View(codeboys)
left_join(data_full, cbind(emissions_category, emissions_codes), "category" = "IPCC")
left_join(data_full, codeboys)
?left_join
left_join(data_full, codeboys, by=c("category" = "IPCC"))
data_full1 <- left_join(data_full, codeboys, by=c("category" = "IPCC"))
View(data_full1)
View(codeboys)
codeboys <- cbind(categories, emissions_codes)
data_full1 <- left_join(data_full, codeboys, by=c("category" = "IPCC"))
emissions_codes <- read.csv("Data/01 Source_data/IPCC 2006 Categories.csv") %>%
select(IPCC, IPCC_Description)
emissions_codes <- read.csv("Data/01 Source_data/IPCC 2006 Categories.csv") %>%
select(IPCC, IPCC_description)
emissions_codes <- read.csv("Data/01 Source_data/IPCC 2006 Categories.csv") %>%
select(IPCC, IPCC_description)
rm(list=ls())
emissions_codes <- read.csv("Data/01 Source_data/IPCC 2006 Categories.csv") %>%
select(IPCC, IPCC_description)
data_full <- read.csv("Data/02 Intermediary_data/CO2DriversEU_dataset.csv") %>%
left_join(emissions_codes)
data_full <- read.csv("Data/02 Intermediary_data/CO2DriversEU_dataset.csv") %>%
left_join(emissions_codes,
by = c("category" = "IPCC"))
View(data_full)
ggplot(data = subset(data_full, country == "Austria")) +
geom_path(mapping = aes(x = year, y = emissions_pc)) +
facet_wrap(~ category, nrow = 5)
View(data_full)
ggplot(data = subset(data_full, country == "Austria")) +
geom_path(mapping = aes(x = year, y = emissions_pc)) +
facet_wrap(~ IPCC+description, nrow = 5)
ggplot(data = subset(data_full, country == "Austria")) +
geom_path(mapping = aes(x = year, y = emissions_pc)) +
facet_wrap(~ IPCC+description, nrow = 5)
ggplot(data = subset(data_full, country == "Austria")) +
geom_path(mapping = aes(x = year, y = emissions_pc)) +
facet_wrap(~ IPCC_description, nrow = 5)
ggplot(data = subset(data_full, country == "Austria")) +
geom_path(mapping = aes(x = year, y = emissions_pc)) +
facet_wrap(~ IPCC_description)
ggplot(data = subset(data_full, country == "Austria", IPCC_description = "Civil Aviation")) +
geom_path(mapping = aes(x = year, y = emissions_pc)) +
facet_wrap(~ IPCC_description)
geom_path(mapping = aes(x = year, y = emissions_pc)_
ggplot(data = subset(data_full, country == "Austria", IPCC_description = "Civil Aviation")) +
geom_path(mapping = aes(x = year, y = emissions_pc))
data_full %>% filter(IPCC_description == "Civil Aviation")
plot(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country = "Austria"))
plot(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria"))
plot(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria")),
View(data_full)
plot(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria")) %>%
select(emissions_pc)
plot(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria") %>%
select(emissions_pc))
plot(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria") %>%
select(emissions_pc, year))
plot(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria") %>%
select(year, emissions_pc))
plot(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria") %>%
select(year, lemissions_pc))
plot_line(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria") %>%
select(year, lemissions_pc))
ggplot(data = subset(data_full, country == "Austria")) +
geom_path(mapping = aes(x = year, y = emissions_pc)) +
facet_wrap(~ IPCC_description)
ggplot(data = subset(data_full, country == "Austria", IPCC_description = "Civil Aviation")) +
geom_path(mapping = aes(x = year, y = emissions_pc))
plot_line(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria") %>%
select(year, lemissions_pc))
plot_line(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria") %>%
select(year, lemissions_pc))
plot(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria") %>%
select(year, lemissions_pc))
tsplot(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria") %>%
select(year, lemissions_pc))
tplot(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria") %>%
select(year, lemissions_pc))
ts_plot(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria") %>%
select(year, lemissions_pc))
plot(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria") %>%
select(year, lemissions_pc))
line(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria") %>%
select(year, lemissions_pc))
plotline(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria") %>%
select(year, lemissions_pc))
plot(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria") %>%
select(year, lemissions_pc))
plot(
data_full %>%
filter(IPCC_description == "Civil Aviation",
country == "Austria") %>%
select(year, lemissions_pc))
data_full <- read.csv("Data/02 Intermediary_data/CO2DriversEU_dataset.csv") %>%
left_join(emissions_codes,
by = c("category" = "IPCC"))
ggplot(data = subset(data_full, country == "Austria")) +
geom_path(mapping = aes(x = year, y = emissions_pc)) +
facet_wrap(~ IPCC_description)
